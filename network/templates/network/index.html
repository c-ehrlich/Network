{% extends "network/layout.html" %}
{% load static %}


{% block body %}
    {% if user.is_authenticated %}    
        <div id="compose-view">
            <form id="compose-form">
                <!-- {% csrf_token %} -->
                <!-- {{ new_post_form }} -->
                <textarea class="form-control" id="post-text" placeholder="Text"></textarea>
                <input type="submit">
            </form>
        </div>
    {% endif %}

    <!-- TODO: factor this out into JS? -->
    {% for post in posts %}
        <a href="{% url 'user' post.user.username %}">{{ post.user.username }}</a> 
        at <a href="{% url 'post' post.id %}">{{ post.timestamp }}</a>: 
        {{ post.text }} 
        | Likes: {{ post.users_who_liked.count }}<br>
    {% empty %}
        No posts to display :(
    {% endfor %}
{% endblock %}

{% block script %}
    <script src="{% static 'network/index.js' %}"></script>
{% endblock %}
