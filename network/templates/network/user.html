{% extends "network/layout.html" %}
{% load static %}

{% block title %}
    {{ view_user.username }}
{% endblock %}

{% block body %}
    <div id="user-profile-outer-div">
        <div id="user-profile-grid-div">
            <div id="user-profile-avatar-div">
                <img id="profile-avatar" src="{{ view_user.avatar.url }}"><br>
            </div>            
            <div id="user-profile-name-div">
                <div id="user-profile-displayname">{{ view_user.displayname }}</div>
                <div id="user-profile-username">@{{ view_user.username }}</div>
            </div>
            <div id="user-profile-follow-div">
                {% if user != view_user %}
                    <div id="follow-button-div">
                        {% if view_user in user.following.all %}
                            <button id="unfollow-button">Unfollow</button>
                        {% else %}
                            <button id="follow-button">Follow</button>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
            <div id="user-profile-info-div">
                <div id="user-profile-bio">{{ view_user.bio }}</div>
                <div id="user-profile-post-info-div">
                    <div id="user-profile-post-count">{{ view_user.posts.count }}</div>
                    <div id="user-profile-post-count-label"> Posts</div>
                    <div id="user-profile-liked-posts-count">{{ view_user.liked_posts.count }} </div>
                    <div id="user-profile-liked-posts-count-label"> Liked Posts</div>
                </div>
                <div id="user-profile-follower-info-div">
                    <div id="user-profile-following-count">{{ view_user.following.count }}</div>
                    <div id="user-profile-following-count-label">Following</div>
                    <div id="user-profile-follower-count">{{ view_user.followed_by.count }}</div>
                    <div id="user-profile-follower-count-label">Followers</div>
                </div>
            </div>
        </div>
    </div>

    {% include 'network/posts.html' %}
{% endblock %}


{% block script %}
    <script src="{% static 'network/user.js' %}"></script>
    <script src="{% static 'network/utils.js' %}"></script>
{% endblock %}

<!-- Follow button: hollow, maybe slight color change on hover -->
<!-- Following button: filled, on hover: text changes to unfollow, color changes to red -->