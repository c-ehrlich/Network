{% for post in posts %}
    <div class="post-div" id="post-div{{ post.id }}">
        <a href="{% url 'user' post.user.username %}">{{ post.user.username }}</a> 
        at <a href="{% url 'post' post.id %}">{{ post.timestamp }}</a>: 
        <div id="post-text-{{ post.id }}">{{ post.text }}</div>
        | Likes: 
        <div id="post-likes-{{ post.id }}">{{ post.users_who_liked.count }}</div><br>

        {% if user.is_authenticated %}
            <!-- edit button -->
            {% if post.user == user %}
                <button class="post-edit-button" id="eb-{{ post.id }}">Edit</button>
            {% endif %}
            <!-- like button -->
            {% if post.user != user %}
                <!-- TODO make sure the user hasn't liked the post yet -->
                <div class="post-like-button-div" id="post-like-button-div-{{ post.id }}">
                    {% if post in user.liked_posts.all %}
                        <button class="post-unlike-button" id="ulb-{{ post.id }}">Unlike</button>
                    {% else %}
                        <button class="post-like-button" id="lb-{{ post.id }}">Like</button>
                    {% endif %}
                </div>
            {% endif %}
        {% endif %}
    </div>
{% empty %}
    No posts to display :(
{% endfor %}

<!-- Pagination -->
{% if posts.has_previous %}
    <a href="?page=1">&laquo; first</a>
    <a href="?page={{ posts.previous_page_number }}">previous</a>
{% endif %}

<span class="current">
    Page {{ posts.number }} of {{ posts.paginator.num_pages }}
</span>

{% if posts.has_next %}
    <a href="?page={{ posts.next_page_number }}">next</a>
    <a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
{% endif %}
<!-- End of Pagination -->

